@no_prelude
module integrationTests.syntax.sigils.gtkBuilder

use aivi.ui.gtk4

node : GtkNode
node =
  ~<gtk>
    <object class="GtkBox" props={{ spacing: 24, marginTop: 12 }}>
      <child>
        <object class="GtkLabel">
          <property name="label">
            Hello
          </property>
        </object>
      </child>
    </object>
  </gtk>

interfaceNode : GtkNode
interfaceNode =
  ~<gtk>
    <interface>
      <requires lib="gtk" version="4.0">
      </requires>
      <object class="GtkBox">
        <child>
          <object class="GtkLabel" id="headline">
            <property name="label">
              Hi
            </property>
          </object>
        </child>
        <child>
          <object ref="headline">
          </object>
        </child>
      </object>
    </interface>
  </gtk>

templateNode : GtkNode
templateNode =
  ~<gtk>
    <template class="AppCard" parent="GtkBox">
      <property name="orientation">
        vertical
      </property>
      <child>
        <object class="GtkOverlay">
          <child>
            <object class="GtkLabel" id="baseLabel">
              <property name="label">
                Base
              </property>
            </object>
          </child>
          <child type="overlay">
            <object class="GtkLabel">
              <property name="label">
                Badge
              </property>
            </object>
          </child>
        </object>
      </child>
      <child>
        <object class="GtkButton">
          <property name="label">
            Open
          </property>
          <signal name="clicked" handler="onOpenClicked" swapped="no">
          </signal>
        </object>
      </child>
    </template>
  </gtk>

signalSugarNode : GtkNode
signalSugarNode =
  ~<gtk>
    <object class="GtkButton" onClick={ Msg.Save }>
      <property name="label">
        Save
      </property>
      <signal name="clicked" on={ Msg.Save }>
      </signal>
    </object>
  </gtk>
