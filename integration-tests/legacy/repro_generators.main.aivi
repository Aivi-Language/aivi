module repro_generators.main

export main, printGen
use aivi.generator
use aivi.testing

main : Effect Text Unit
main = effect {
  _ <- print "--- Basic Yield ---"
  gen1 = generate {
    yield 1
    yield 2
    yield 3
  }
  _ <- printGen gen1
}

printGen = g => effect {
  _ <- print "{g}\n"
}

__test_sentinel = 0

@test
smoke = effect {
  gen1 = generate {
    yield 1
    yield 2
    yield 3
  }
  nums = generator.toList gen1
  _ <- assert (nums == [1, 2, 3])
}
