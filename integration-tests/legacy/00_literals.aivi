module examples.compiler.literals
export ints, floats, texts, suffixes, instant, tuple, records, nested, palette

use aivi.duration
use aivi.number.bigint
use aivi.number.decimal
use aivi.testing


ints = [0, 1, -1, 42]
floats = [0.0, 3.14, -2.5]
texts = ["hello", "world"]

suffixes = {
  duration: 30s
  duration2: 1min
  decimal: 3.14dec
  bigint: 42n
}
instant = 2024-05-21T12:00:00Z

tuple = (1, "ok", True)

records = [
  { id: 1, label: "alpha", meta: { score: 9.5, active: True } }
  { id: 2, label: "beta", meta: { score: 7.0, active: False } }
]

nested = {
  title: "Report"
  stats: { count: 3, avg: 1.5 }
  tags: ["a", "b", "c"]
}

palette = [
  { name: "ink", rgb: (12, 15, 20) }
  { name: "sand", rgb: (242, 233, 210) }
]

__test_sentinel = 0

@test
smoke = effect {
  _ <- assert (ints == [0, 1, -1, 42])
  _ <- assert (floats[1] == 3.14)
  _ <- assert (texts == ["hello", "world"])
  _ <- assert (suffixes.duration == 30s)
  _ <- assert (suffixes.bigint == 42n)
  _ <- assert (suffixes.decimal == 3.14dec)
}
