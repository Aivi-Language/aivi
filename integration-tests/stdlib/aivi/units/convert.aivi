@no_prelude
module integrationTests.stdlib.aivi.units.convert

use aivi
use aivi.testing
use aivi.units
use aivi.math

@test
smoke = effect {
  m = defineUnit "m" 1.0
  km = defineUnit "km" 1000.0
  q = { value: 1500.0, unit: m }
  qKm = convert q km
  _ <- assert (abs (qKm.value - 1.5) < 0.0000001)
  _ <- assert (qKm.unit.name == "km")
}
