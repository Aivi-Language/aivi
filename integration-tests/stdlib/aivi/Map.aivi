@no_prelude
module integrationTests.stdlib.aivi.Map

use aivi
use aivi.testing

use aivi

Ref = Map

@test
smoke = effect {
  m0 = Map.empty
  m1 = Map.insert 1 "one" m0

  _ <- testing.assert (Map.size m0 == 0)
  _ <- testing.assert (Map.size m1 == 1)
  _ <- testing.assert (Map.get 1 m1 == Some "one")
  _ <- testing.assert (Map.get 2 m1 == None)

  m2 = Map.remove 1 m1
  _ <- testing.assert (Map.size m2 == 0)
  _ <- testing.assert (Map.get 1 m2 == None)
}
