@no_prelude
module integrationTests.stdlib.aivi.Option

use aivi
use aivi.testing (assert)

use aivi

Ref = Option

@test
smoke = effect {
  some = Some 1
  none = None

  _ <- assert (some != none)
  _ <- assert (some == Some 1)

  // Using global map which works on Option
  mapped = map some (x => x + 1)
  _ <- assert (mapped == Some 2)

  mappedNone = map none (x => x + 1)
  _ <- assert (mappedNone == None)

  // Chain (bind)
  chained = chain some (x => Some (x + 1))
  _ <- assert (chained == Some 2)
}
