@no_prelude
module integrationTests.stdlib.aivi.Result

use aivi
use aivi.testing (assert)

use aivi

Ref = Result

@test
smoke = effect {
  ok = Ok 1
  err = Err "oops"
  
  _ <- assert (ok != err)
  _ <- assert (ok == Ok 1)
  
  // Using global map which works on Result
  mapped = map ok (x => x + 1)
  _ <- assert (mapped == Ok 2)
  
  mappedErr = map err (x => x + 1)
  _ <- assert (mappedErr == Err "oops")
}
