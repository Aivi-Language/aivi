// DecodeError represents a precisely located validation failure
DecodeError = {
  path: List Text // e.g. ["user", "preferences", "theme"]
  message: Text // e.g. "Expected String, got Number"
}

// Convert a DecodeError into a human-readable string for excellent DX
formatDecodeError : DecodeError -> Text
formatDecodeError = err =>
  "Expected at $.{err.path |> join "."}: {err.message}"
