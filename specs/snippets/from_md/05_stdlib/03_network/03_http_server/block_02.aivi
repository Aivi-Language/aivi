Request = {
  method: Text
  path: Text
  headers: List { name: Text, value: Text }
  body: List Int
  remoteAddr: Option Text
}

Response = {
  status: Int
  headers: List { name: Text, value: Text }
  body: List Int
}

ServerConfig = {
  address: Text
}

HttpError = { message: Text }
WsError = { message: Text }

WsMessage
= TextMsg Text
| BinaryMsg (List Int)
| Ping
| Pong
| Close

ServerReply
= Http Response
| Ws (WebSocket -> Effect WsError Unit)
