use aivi.testing
use aivi.rest

@test "fetch users from real API (snapshot)"
fetchUsersSnapshot =
  mock snapshot rest.get
  in do Effect {
    users <- fetchUsers
    assertEq (List.length users) 3
  }

@test "user table formatting"
userTableSnapshot = do Effect {
  users <- pure [{ id: 1, name: "Ada" }, { id: 2, name: "Grace" }]
  formatted <- pure (formatUserTable users)
  assertSnapshot "user_table" formatted
}
